# 实践任务清单 - 费曼学习法配套练习

> 通过实际动手操作来验证你的理解，这是费曼学习法的关键步骤！

---

## 🎯 使用说明

每完成一个模块的费曼学习笔记后，**必须**完成对应的实践任务，才算真正掌握。

**你的水平定位：**
- ✅ 有编程基础（HTML/CSS/JavaScript）
- 🆕 Vue 新手（正在学习 Vue 3）
- 🎯 目标：通过实践掌握 Vue 3 电商项目

**完成标准：**
- ✅ 能独立完成任务（不看答案）
- ✅ 能用自己的话解释每一步为什么这样做
- ✅ 能举一反三，修改需求后依然能实现

---

## 📋 任务列表

### 🎬 准备阶段：环境搭建（第1天）

#### Task 0 - 项目启动 ⭐ **必做**

**任务 1：成功运行项目**
- [ ] 安装 Node.js（16.x 以上版本）
- [ ] 在项目目录运行 `npm install`
- [ ] 运行 `npm run dev` 启动开发服务器
- [ ] 浏览器打开显示的地址（通常是 `http://localhost:3000`）
- [ ] 看到电商首页，点击底部导航测试

**验证标准：**
- 页面能正常显示
- 点击导航能切换页面
- 控制台没有报错

**任务 2：熟悉项目结构**
- [ ] 打开 `package.json`，查看项目依赖
- [ ] 浏览 `src` 目录，了解文件组织
- [ ] 打开 `intro.md`，阅读项目介绍

**验证标准：**
能说出以下目录的作用：
- `src/api/` - 接口管理
- `src/stores/` - 状态管理
- `src/router/` - 路由配置
- `src/views/` - 页面组件
- `src/components/` - 通用组件

---

### 🏗️ 阶段一：项目基础设施（第3周）

#### Task 1.1 - 项目工程化配置（1-2天）

**任务 1：理解项目启动流程**
- [ ] 打开 `index.html`，找到 `<div id="app">`
- [ ] 打开 `src/main.js`，理解代码执行顺序
- [ ] 打开 `src/App.vue`，查看根组件结构

**验证标准：**
能画出并解释这个流程：
```
npm run dev
  → Vite 启动开发服务器
  → 加载 index.html
  → 执行 main.js
  → 创建 Vue 应用
  → 挂载 App.vue 到 #app
  → 页面显示
```

**任务 2：安装 Vue DevTools**
- [ ] 安装 Vue DevTools 浏览器插件
- [ ] 打开项目，按 F12 打开开发者工具
- [ ] 找到 "Vue" 标签
- [ ] 查看组件树、路由、Pinia Store

**验证标准：**
能在 DevTools 中看到：
- 当前路由信息
- Pinia 的 userStore 和 cartStore
- 组件树结构

---

#### Task 1.2 - Vue Router 路由系统（3-4天）⭐ **重点**

**任务 1：添加一个"帮助中心"页面**
- [ ] 创建 `src/views/help/index.vue`
- [ ] 添加路由配置
- [ ] 在首页添加导航入口
- [ ] 设置页面标题为"帮助中心"

**任务 2：理解动态路由**
- [ ] 观察项目中的 `/product/:id` 路由配置
- [ ] 打开商品详情页，在 DevTools 中查看 `route.params.id`
- [ ] 尝试修改 URL 中的 id，观察页面变化
- [ ] 在组件中用 `useRoute()` 获取参数

**任务 3：理解路由守卫**
- [ ] 打开 `src/router/index.js`，找到 `beforeEach`
- [ ] 未登录状态下访问 `/cart`，观察跳转
- [ ] 查看登录页 URL 中的 `redirect` 参数
- [ ] 理解登录后如何跳回原页面

**任务 4：添加新页面练习**
- [ ] 创建"关于我们"页面 `src/views/about/index.vue`
- [ ] 在 `router/index.js` 中添加路由配置
- [ ] 在个人中心添加"关于我们"入口
- [ ] 测试页面跳转

**验证标准：**
```javascript
// 能完整解释并画出流程
用户点击"购物车"
  → router.push('/cart')
  → beforeEach 拦截
  → 检查 requireAuth
  → 检查登录状态
  → 未登录 → next('/login?redirect=/cart')
  → 已登录 → next() → 显示购物车
```

**配套笔记：** 阅读 `bingo/费曼学习-Vue-Router.md`

---

#### Task 1.3 - Pinia 状态管理（2-3天）⭐ **重点**

**任务 1：理解现有 Store**
- [ ] 打开 `src/stores/user.js`，阅读代码
- [ ] 理解 state（token、userInfo）
- [ ] 理解 actions（login、logout、isLogin）
- [ ] 在浏览器控制台测试：
  ```javascript
  import { useUserStore } from '@/stores/user'
  const userStore = useUserStore()
  console.log(userStore.token)
  ```

**任务 2：理解 Store 的响应式**
- [ ] 在两个不同页面使用 `userStore.userInfo`
- [ ] 在控制台修改 `userStore.userInfo.nickname`
- [ ] 观察两个页面同时更新

**任务 3：添加主题切换功能**
- [ ] 创建 `src/stores/theme.js`
- [ ] 定义 state：`theme: ref('light')`（light/dark）
- [ ] 定义 action：`toggleTheme()`
- [ ] 在个人中心添加切换按钮
- [ ] 切换后修改页面背景色

**任务 4：添加收藏功能**
- [ ] 创建 `src/stores/favorite.js`
- [ ] 定义 state：`favoriteList: ref([])`
- [ ] 定义 action：`addFavorite(product)`、`removeFavorite(id)`
- [ ] 定义 getter：`isFavorite(id)`、`favoriteCount`
- [ ] 在商品详情页添加收藏按钮
- [ ] 使用 localStorage 持久化收藏数据

**任务 5：理解 storeToRefs**
- [ ] 尝试直接解构 Store：`const { token } = useUserStore()`
- [ ] 修改 token，观察页面是否更新（不会！）
- [ ] 使用 `storeToRefs`：`const { token } = storeToRefs(useUserStore())`
- [ ] 再次修改，观察页面更新（会！）

**验证标准：**
```javascript
// 能回答这些问题
1. 为什么要把收藏功能放在 Store 而不是组件？
   - 多个页面共享数据，避免重复请求
2. 收藏后刷新页面，如何保持收藏状态？
   - 保存到 localStorage
3. 解构 Store 为什么会失去响应式？
   - 解构丢失了响应式引用
4. storeToRefs 的作用是什么？
   - 保持解构后的响应式
```

**配套笔记：** 阅读 `bingo/费曼学习-Pinia状态管理.md`

---

#### Task 1.4 - Axios 网络请求（2天）

**任务 1：理解拦截器机制**
- [ ] 打开 `src/utils/axios.js`，阅读代码
- [ ] 在请求拦截器添加 `console.log('发送请求', config)`
- [ ] 在响应拦截器添加 `console.log('收到响应', response)`
- [ ] 刷新页面，观察控制台输出

**任务 2：理解 token 如何携带**
- [ ] 查看请求拦截器中如何添加 token
- [ ] 登录后，在 Network 面板查看请求头
- [ ] 找到 `Authorization: Bearer xxx` 字段

**任务 3：理解错误处理**
- [ ] 查看响应拦截器的错误处理逻辑
- [ ] 修改 token 为无效值，触发 401 错误
- [ ] 观察是否自动跳转到登录页

**任务 4：封装新接口**
- [ ] 创建 `src/api/favorite.js`
- [ ] 参考 `user.js` 的写法，封装收藏接口：
  ```javascript
  export const getFavoriteList = () => {
    return request.get('/api/favorite/list')
  }
  export const addFavorite = (productId) => {
    return request.post('/api/favorite', { productId })
  }
  ```
- [ ] 在组件中调用测试

**验证标准：**
```javascript
// 能画出完整的请求流程并解释每一步
用户点击"加入购物车"
  → 调用 addToCart API
  → 请求拦截器（添加 token、设置 headers）
  → 发送 POST 请求到服务器
  → 服务器返回数据
  → 响应拦截器（检查错误码、处理错误）
  → 返回数据给组件
  → 组件更新 UI
```

---

### 🧩 阶段二：组件化开发（第4周）

#### Task 2.1 - Vant UI 组件库（2-3天）⭐ **实用**

**任务 1：熟悉 Vant 文档**
- [ ] 打开 [Vant 官方文档](https://vant-ui.github.io/vant/)
- [ ] 浏览基础组件（Button、Cell、Icon）
- [ ] 浏览表单组件（Field、Checkbox、Radio）
- [ ] 浏览展示组件（List、Swipe、Image）

**任务 2：使用常用组件**
- [ ] 使用 `van-button` 创建不同类型的按钮
- [ ] 使用 `van-field` 创建表单输入框
- [ ] 使用 `van-popup` 创建弹窗
- [ ] 使用 `van-toast` 显示提示信息

**任务 3：创建一个反馈表单**
- [ ] 创建 `src/views/feedback/index.vue`
- [ ] 使用 `van-form` 和 `van-field` 创建表单
- [ ] 添加表单验证（必填、邮箱格式）
- [ ] 提交时显示 `van-toast`

**验证标准：**
- 能快速在文档中找到需要的组件
- 能看懂组件的 API 文档
- 能组合使用多个组件

---

#### Task 2.2 - 自定义通用组件（2天）

**任务 1：理解现有组件**
- [ ] 打开 `src/components/ProductListItem.vue`
- [ ] 理解 props 定义和使用
- [ ] 理解 emit 事件触发
- [ ] 查看父组件如何使用这个组件

**任务 2：封装评分组件**
- [ ] 创建 `src/components/Rating.vue`
- [ ] 接收 `score` prop（1-5分，Number类型）
- [ ] 使用 `v-for` 循环显示 5 颗星
- [ ] 根据 score 显示实心或空心星星
  ```vue
  <template>
    <div class="rating">
      <span v-for="i in 5" :key="i">
        {{ i <= score ? '⭐' : '☆' }}
      </span>
    </div>
  </template>

  <script setup>
  defineProps({
    score: { type: Number, default: 0 }
  })
  </script>
  ```
- [ ] 在商品详情页使用

**任务 3：封装 Loading 组件**
- [ ] 创建 `src/components/Loading.vue`
- [ ] 接收 `show` prop（Boolean）
- [ ] 使用 `van-loading` 显示加载动画
- [ ] 在数据加载时使用

**验证标准：**
- 能解释 props 的作用
- 能解释组件复用的好处
- 能在父组件中正确使用自定义组件

---

### 📱 阶段三：业务功能实现（第5-7周）

#### Task 3.1 - 用户登录模块（3天）⭐ **先做这个！**

**任务 1：理解登录流程**
- [ ] 打开 `src/views/user/login.vue`，阅读代码
- [ ] 理解表单数据绑定（`v-model`）
- [ ] 理解登录按钮的点击事件
- [ ] 追踪 `userStore.login()` 的调用

**任务 2：测试登录流程**
- [ ] 输入账号密码，点击登录
- [ ] 在 DevTools 查看 Network 请求
- [ ] 在 Pinia 面板查看 userStore 的变化
- [ ] 查看 localStorage 中的 token

**任务 3：理解登录拦截**
- [ ] 清空 localStorage（退出登录）
- [ ] 直接访问 `/cart`
- [ ] 观察跳转到 `/login?redirect=/cart`
- [ ] 登录后观察自动跳回购物车

**任务 4：添加"记住密码"功能**
- [ ] 添加 Checkbox 组件
- [ ] 勾选时保存账号密码到 localStorage
- [ ] 下次打开自动填充

**验证标准：**
能画出并解释完整的登录流程图（从输入账号到跳转首页）

---

#### Task 3.2 - 首页模块（2-3天）

**任务 1：理解页面结构**
- [ ] 打开 `src/views/home/index.vue`
- [ ] 识别所有组件（搜索框、轮播图、分类、商品列表）
- [ ] 查看数据在哪里定义（ref、reactive）
- [ ] 查看数据在哪里加载（onMounted）

**任务 2：追踪数据流**
- [ ] 找到首页 API 调用（`getHomeData()`）
- [ ] 在 Network 面板查看请求
- [ ] 修改 Mock 数据，观察页面变化
- [ ] 添加 loading 状态

**任务 3：添加新板块**
- [ ] 添加"限时秒杀"板块
- [ ] 使用 `van-count-down` 倒计时
- [ ] 显示秒杀商品列表

**验证标准：**
能画出数据流图：API → 组件 → 渲染

---

#### Task 3.3 - 商品模块（3-4天）

**任务 1：理解搜索功能**
- [ ] 打开 `src/views/product/search.vue`
- [ ] 输入关键词，点击搜索
- [ ] 观察跳转到列表页时的 URL（`/product/list?keyword=xxx`）
- [ ] 在列表页用 `useRoute()` 获取 keyword

**任务 2：理解商品详情**
- [ ] 点击商品，观察 URL 变化（`/product/123`）
- [ ] 打开 `src/views/product/detail.vue`
- [ ] 找到获取商品 ID 的代码（`route.params.id`）
- [ ] 理解如何根据 ID 加载商品数据

**任务 3：实现"加入购物车"**
- [ ] 在详情页点击"加入购物车"
- [ ] 追踪代码调用 `cartStore.addToCart()`
- [ ] 在 Pinia 面板查看 cartList 变化
- [ ] 切换到购物车页面，验证商品已添加

**验证标准：**
能画出"搜索 → 列表 → 详情 → 加购"的完整流程图

---

#### Task 3.4 - 购物车模块（2-3天）⭐ **重点**

**任务 1：理解数据结构**
```javascript
// 购物车数据结构
[
  {
    id: 1,
    product: { id: 101, name: '手机', price: 2999 },
    quantity: 2,
    checked: true
  }
]
```
- [ ] 画出数据结构图
- [ ] 理解每个字段的含义

**任务 2：理解核心逻辑**
- [ ] 打开 `src/views/cart/index.vue`
- [ ] 找到全选/取消全选的代码
- [ ] 找到计算总价的 computed
- [ ] 找到修改数量的方法

**任务 3：手写总价计算**
尝试自己实现这个逻辑：
```javascript
const total = computed(() => {
  return cartList.value
    .filter(item => item.checked)  // 只计算选中的商品
    .reduce((sum, item) => {
      return sum + item.product.price * item.quantity
    }, 0)
})
```

**任务 4：实现商品数量控制**
- [ ] 使用 `van-stepper` 组件
- [ ] 绑定 quantity
- [ ] 修改时调用 `cartStore.updateCart()`

**验证标准：**
- 能解释 `filter` 和 `reduce` 的作用
- 能手写总价计算逻辑
- 能实现勾选/取消勾选/全选功能

---

#### Task 3.5 - 订单模块（2-3天）

**任务 1：理解订单流程**
```
购物车 → 选择商品 → 确认订单 → 选择地址 → 提交订单 → 支付
```
- [ ] 画出完整流程图
- [ ] 标注每个步骤的页面和数据流

**任务 2：理解数据传递**
- [ ] 在购物车页点击"结算"
- [ ] 观察如何传递选中商品数据到订单页
- [ ] 在订单页获取并显示商品信息

**任务 3：理解地址选择**
- [ ] 在订单页点击"选择地址"
- [ ] 跳转到地址列表页
- [ ] 选择地址后如何返回数据

**验证标准：**
能讲出"购物车 → 订单 → 支付"的数据流转过程

---

#### Task 3.6 - 地址管理（1-2天）

**任务 1：理解地址数据结构**
```javascript
{
  id: 1,
  name: '张三',
  phone: '13800138000',
  province: '北京市',
  city: '北京市',
  district: '朝阳区',
  detail: 'xx街道xx号',
  isDefault: true
}
```

**任务 2：使用地址选择器**
- [ ] 打开 `src/views/address/add.vue`
- [ ] 找到 `van-area` 组件
- [ ] 点击选择省市区
- [ ] 理解如何获取选择结果并回填表单

**任务 3：实现地址 CRUD**
- [ ] 新增地址
- [ ] 编辑地址
- [ ] 删除地址
- [ ] 设置默认地址

**验证标准：**
能实现完整的地址管理功能

---

### 🚀 阶段四：进阶知识（第8周）

#### Task 4.1 - Mock 数据（1天）

**任务 1：理解 Mock 的作用**
- [ ] 打开 `src/mock/index.js`，阅读代码
- [ ] 理解 Mock.mock() 的参数（URL、method、返回数据）
- [ ] 修改返回数据，刷新页面观察变化

**任务 2：添加新接口**
- [ ] 为收藏功能添加 Mock 接口
- [ ] 模拟获取收藏列表
- [ ] 模拟添加/删除收藏

**验证标准：**
能解释 Mock 的好处：前后端并行开发，无需等待后端接口

---

#### Task 4.2 - 性能优化（2天）

**任务 1：理解懒加载**
- [ ] 查看路由配置中的懒加载写法
- [ ] 打开 Network 面板，观察页面切换时只加载对应的 JS
- [ ] 理解"按需加载"的性能优势

**任务 2：实现搜索防抖**
- [ ] 在搜索框实现防抖效果
- [ ] 用户输入时不立即搜索
- [ ] 停止输入 300ms 后才触发搜索
  ```javascript
  import { debounce } from 'lodash-es'
  
  const handleSearch = debounce((keyword) => {
    searchProducts(keyword)
  }, 300)
  ```

**任务 3：使用 DevTools 分析**
- [ ] 打开 Chrome DevTools 的 Performance 面板
- [ ] 录制页面加载过程
- [ ] 分析哪些资源加载慢

**验证标准：**
- 能解释防抖的作用
- 能用 DevTools 分析性能问题

---

#### Task 4.3 - 项目总结（1天）

**任务 1：绘制架构图**
- [ ] 画出技术栈架构（Vue 3 + Router + Pinia + Axios + Vant）
- [ ] 画出目录结构
- [ ] 画出核心业务流程（登录、购物、下单）

**任务 2：写学习总结**
- [ ] 总结掌握的技能（500字以上）
- [ ] 列出项目亮点
- [ ] 列出还需改进的地方

**任务 3：准备项目介绍**
- [ ] 准备 3 分钟项目介绍
- [ ] 准备技术栈说明
- [ ] 准备遇到的问题及解决方案

---

## 🎯 综合实战项目

完成所有基础任务后，选择一个综合项目来整合所有知识：

### 项目 1：添加"优惠券"功能

**需求：**
- [ ] 优惠券列表页（我的优惠券）
- [ ] 领取优惠券
- [ ] 下单时选择优惠券
- [ ] 计算优惠金额

**涉及知识点：**
- 路由（新页面）
- Pinia（优惠券 Store）
- API（优惠券接口）
- 组件（优惠券列表、优惠券选择弹窗）

---

### 项目 2：添加"商品评价"功能

**需求：**
- [ ] 商品详情页显示评价列表
- [ ] 订单完成后可以评价
- [ ] 评价可以上传图片
- [ ] 评价可以点赞

**涉及知识点：**
- 组件（评价列表、评价表单）
- 图片上传
- 评分组件
- API 调用

---

### 项目 3：添加"购物车推荐"功能

**需求：**
- [ ] 购物车页面底部显示"猜你喜欢"
- [ ] 基于购物车商品推荐相关商品
- [ ] 可以直接加入购物车

**涉及知识点：**
- 购物车 Store
- 商品推荐算法（简化版）
- 组件复用

---

## ✅ 学习检查表

每完成一个阶段，问自己这些问题：

### Vue Router
- [ ] 能画出路由配置和页面的映射关系吗？
- [ ] 能解释路由守卫的执行顺序吗？
- [ ] 能独立添加一个新页面并配置路由吗？

### Pinia
- [ ] 能解释 state、getters、actions 的区别吗？
- [ ] 能独立创建一个新的 Store 吗？
- [ ] 能解释为什么解构会失去响应式吗？

### Axios
- [ ] 能画出一个请求的完整流程吗？
- [ ] 能解释拦截器的作用吗？
- [ ] 能独立封装一个新的 API 接口吗？

### 组件化
- [ ] 能解释什么时候应该封装组件吗？
- [ ] 能独立封装一个通用组件吗？
- [ ] 能理解 props 和 emit 的使用场景吗？

### 业务模块
- [ ] 能完整讲述用户购物的全流程吗？
- [ ] 能快速定位某个功能的代码位置吗？
- [ ] 能独立添加一个新功能吗？

---

## 🏆 最终目标

完成所有任务后，你应该能：

1. **闭眼画图** - 画出项目架构图、数据流图、组件树
2. **快速定位** - 任何功能都能快速找到对应的代码
3. **独立开发** - 能独立添加新功能，不依赖他人
4. **代码优化** - 能发现并优化现有代码的问题
5. **教授他人** - 能清晰地向他人讲解任何模块

---

## 📝 学习记录模板

建议创建一个 `学习日志.md`，记录每天的学习进度：

```markdown
## 2024-12-04

### 今日学习
- [x] 阅读 Pinia 文档
- [x] 完成 Task 1.2 - 任务1（主题切换）
- [ ] 完成 Task 1.2 - 任务2（收藏功能）

### 今日收获
- 理解了 Pinia 的 Setup 语法
- 掌握了 storeToRefs 的用法
- 完成了主题切换功能

### 遇到的问题
- 解构 Store 失去响应式，已解决（使用 storeToRefs）
- localStorage 存储对象需要 JSON.stringify

### 明日计划
- 完成收藏功能
- 开始学习 Axios
```

---

加油！通过这些实践任务，你会真正掌握这个项目！🚀

记住：**代码是敲出来的，不是看出来的！**
